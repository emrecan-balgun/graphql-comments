"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _graphqlRedisSubscriptions=require("graphql-redis-subscriptions");var _ioredis=_interopRequireDefault(require("ioredis"));var _dotenv=_interopRequireDefault(require("dotenv"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}_dotenv["default"].config();var options={host:process.env.REDIS_HOST,port:process.env.REDIS_PORT,password:process.env.REDIS_PASSWORD,retryStrategy:function retryStrategy(times){// reconnect after
return Math.min(times*50,2000)}};var pubsub=new _graphqlRedisSubscriptions.RedisPubSub({publisher:new _ioredis["default"](options),subscriber:new _ioredis["default"](options)});var _default=pubsub;exports["default"]=_default;